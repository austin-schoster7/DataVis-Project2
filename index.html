<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Earthquake Visualization</title>
  <link rel="stylesheet" href="css/leaflet.css">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <div id="controls">
    <!-- New Mode Selector -->
    <div class="control-row">
      <label for="mode-selector">View Mode:</label>
      <select id="mode-selector">
        <option value="weekly" selected>Weekly Animation</option>
        <option value="monthly">Monthly Animation</option>
        <option value="yearly">Yearly Animation</option>
        <option value="custom-range">Custom Date Range (Animated)</option>
        <option value="static-range">Static Date Range</option>
      </select>
    </div>

    <!-- Existing Controls (modified slightly) -->
    <div class="control-row">
      <label for="year-slider">Time Period:</label>
      <input type="range" id="year-slider" min="2004" max="2024" step="1" value="2004">
    </div>

    <div class="control-row" id="playback-controls">
      <button id="play-button">Play</button>
      <button id="pause-button" disabled>Pause</button>

      <label for="animation-speed">Speed:</label>
      <input type="number" id="animation-speed" value="0.5" step="0.1" min="0.1">
      <span id="speed-label">sec/week</span>

      <label class="checkbox-label">
        <input type="checkbox" id="loop-checkbox"> Loop
      </label>
    </div>

    <!-- New Date Range Controls (hidden by default) -->
    <div class="control-row" id="custom-range-controls" style="display: none;">
      <label for="start-date">From:</label>
      <input type="date" id="start-date" min="2004-01-01" max="2024-12-31">

      <label for="end-date">To:</label>
      <input type="date" id="end-date" min="2004-01-01" max="2024-12-31">

      <button id="apply-range">Apply</button>
    </div>

    <!--<div class="control-row" id="static-range-controls" style="display: none;">
      <label for="static-start-date">From:</label>
      <input type="date" id="static-start-date" min="2004-01-01" max="2024-12-31">

      <label for="static-end-date">To:</label>
      <input type="date" id="static-end-date" min="2004-01-01" max="2024-12-31">

      <button id="apply-static-range">Show</button>
    </div> -->

    <!-- Existing Date Display and Loading Message -->
    <div id="current-date-display" class="date-display"></div>
    <div id="loading-message" style="display: none;">Loading earthquake data...</div>
  </div>

  <div id="visualizations">
    <!-- Left: Large map container -->
    <div id="map-container">
      <div id="my-map"></div>
    </div>

    <!-- Right: Two stacked visualizations: timeline (top), bar chart (bottom) -->
    <div id="side-container">
      <div id="timeline"></div>

      <div id="mag-chart-container">
        <label for="attribute-dropdown">Select attribute:</label>
        <select id="attribute-dropdown">
          <option value="mag" selected>Magnitude</option>
          <option value="depth">Depth</option>
        </select>
        <div id="mag-chart"></div>
      </div>
    </div>
  </div>

  <div id="tooltip"></div>

  <script src="js/d3.v6.min.js"></script>
  <script src="js/leaflet.js"></script>
  <script src="js/leafletMap.js"></script>
  <script src="js/timeline.js"></script>
  <script src="js/main.js"></script>
  <script src="js/magnitudeChart.js"></script>
</body>

</html>